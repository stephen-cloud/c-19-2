


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <link rel="canonical" href="https://stephen-cloud.github.io/c-19-autobody/awesome-table/">
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.1">
    
    
      
        <title>Material Table - C-19 Autobody Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.a676eddb.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#start-simple" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://stephen-cloud.github.io/c-19-autobody/" title="C-19 Autobody Documentation" class="md-header-nav__button md-logo" aria-label="C-19 Autobody Documentation">
      
  <img src="../assets/ic_build_white_48dp.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            C-19 Autobody Documentation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Material Table
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/stephen-cloud/c-19-autobody.git" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    stephen-cloud/c-19-autobody
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://stephen-cloud.github.io/c-19-autobody/" title="C-19 Autobody Documentation" class="md-nav__button md-logo" aria-label="C-19 Autobody Documentation">
      
  <img src="../assets/ic_build_white_48dp.png" alt="logo">

    </a>
    C-19 Autobody Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/stephen-cloud/c-19-autobody.git" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    stephen-cloud/c-19-autobody
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="What's all this then?" class="md-nav__link">
      What's all this then?
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Set things up
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Set things up" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Set things up
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/" title="Install the tools" class="md-nav__link">
      Install the tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../create-project/" title="Create the project" class="md-nav__link">
      Create the project
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../material/" title="Add React Material" class="md-nav__link">
      Add React Material
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Make UI starter
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Make UI starter" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Make UI starter
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../navigation/" title="Add navigation" class="md-nav__link">
      Add navigation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Make back-end starter
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Make back-end starter" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Make back-end starter
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../amplify/" title="Add AWS Amplify" class="md-nav__link">
      Add AWS Amplify
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../authentication/" title="Authentication UI" class="md-nav__link">
      Authentication UI
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Connect the UI
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Connect the UI" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Connect the UI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../prepare-ui/" title="Prepare the UI" class="md-nav__link">
      Prepare the UI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../add-table-view/" title="Add a table" class="md-nav__link">
      Add a table
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../connect-to-backend/" title="Wire up the back-end" class="md-nav__link">
      Wire up the back-end
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Make the table great
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Make the table great" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Make the table great
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Material Table
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z" /></svg>
        </span>
      </label>
    
    <a href="./" title="Material Table" class="md-nav__link md-nav__link--active">
      Material Table
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#start-simple" class="md-nav__link">
    Start simple
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#but-of-course-were-not-stopping-here" class="md-nav__link">
    But of course we're not stopping here
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#we-broke-some-things" class="md-nav__link">
    We broke some things
  </a>
  
    <nav class="md-nav" aria-label="We broke some things">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#search-is-broken-now-too" class="md-nav__link">
    Search is broken now too
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#triggering-refresh" class="md-nav__link">
    Triggering refresh
  </a>
  
    <nav class="md-nav" aria-label="Triggering refresh">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-new-useeffect" class="md-nav__link">
    The new useEffect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manipulating-items-from-the-table-itself" class="md-nav__link">
    Manipulating items from the table itself
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-a-row" class="md-nav__link">
    Adding a row
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#now-enable-deleting-a-row" class="md-nav__link">
    Now enable deleting a row
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-a-row" class="md-nav__link">
    Updating a row
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-upshot" class="md-nav__link">
    The upshot
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reusable-table/" title="Make table reusable" class="md-nav__link">
      Make table reusable
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../use-reusable-table/" title="Create the rest of the screens" class="md-nav__link">
      Create the rest of the screens
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../add-relations/" title="Add model relationships" class="md-nav__link">
      Add model relationships
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../table-polish/" title="Polish" class="md-nav__link">
      Polish
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      DevOps
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="DevOps" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        DevOps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../nope.md" title="Deploy to the cloud" class="md-nav__link">
      Deploy to the cloud
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../nope.md" title="Testing" class="md-nav__link">
      Testing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Fine print
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Fine print" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Fine print
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../thanks/" title="Acknowledgements" class="md-nav__link">
      Acknowledgements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../release-notes/" title="Release notes" class="md-nav__link">
      Release notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../resume/" title="About me" class="md-nav__link">
      About me
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#start-simple" class="md-nav__link">
    Start simple
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#but-of-course-were-not-stopping-here" class="md-nav__link">
    But of course we're not stopping here
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#we-broke-some-things" class="md-nav__link">
    We broke some things
  </a>
  
    <nav class="md-nav" aria-label="We broke some things">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#search-is-broken-now-too" class="md-nav__link">
    Search is broken now too
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#triggering-refresh" class="md-nav__link">
    Triggering refresh
  </a>
  
    <nav class="md-nav" aria-label="Triggering refresh">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-new-useeffect" class="md-nav__link">
    The new useEffect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manipulating-items-from-the-table-itself" class="md-nav__link">
    Manipulating items from the table itself
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-a-row" class="md-nav__link">
    Adding a row
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#now-enable-deleting-a-row" class="md-nav__link">
    Now enable deleting a row
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-a-row" class="md-nav__link">
    Updating a row
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-upshot" class="md-nav__link">
    The upshot
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                  <h1>Material Table</h1>
                
                <p>As we already saw, the table that displays all the vehicles is lame. It does not paginate and it only works on all the vehicles at once. It does not let you create, update, or delete data within the table. In addition, we had to create the table from scratch using the basic elements of Material UI. </p>
<p>Let's fix that. Or better still, let someone else fix it for us. Enter the magnificent Material Table, <a href="https://material-table.com">https://material-table.com</a>. </p>
<p>We're just about to make some big changes to <code>Vehicle.tsx</code> with quite a few steps. As always, if you want to skip the steps and see the end result check "The upshot" section.</p>
<h2 id="start-simple">Start simple<a class="headerlink" href="#start-simple" title="Permanent link">&para;</a></h2>
<p>Let's hook up Material Table to the existing data.</p>
<p>Add the dependency</p>
<div class="codehilite"><pre><span></span><code>yarn add material-table
</code></pre></div>


<p>Import it.</p>
<div class="codehilite"><pre><span></span><code><span class="kr">import</span> <span class="nx">MaterialTable</span> <span class="nx">from</span> <span class="s1">&#39;material-table&#39;</span>
</code></pre></div>


<p>There's a ton of options for each column so we use the type <code>Column</code> to leverage editor completion. Always nice. <code>numeric</code> aligns right.</p>
<p>And define some column metadata.</p>
<div class="codehilite"><pre><span></span><code><span class="kr">import</span> <span class="nx">MaterialTable</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Column</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;material-table&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">columns</span>: <span class="kt">Column</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Make&#39;</span><span class="p">,</span> <span class="nx">field</span><span class="o">:</span> <span class="s1">&#39;make&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Model&#39;</span><span class="p">,</span> <span class="nx">field</span><span class="o">:</span> <span class="s1">&#39;model&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Mileage&#39;</span><span class="p">,</span> <span class="nx">field</span><span class="o">:</span> <span class="s1">&#39;mileage&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;numeric&quot;</span> <span class="p">},</span>
<span class="p">];</span>
</code></pre></div>


<p>Now we have everything we need to replace our old table with the nice one.</p>
<div class="codehilite"><pre><span></span><code><span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Grid</span> <span class="nx">container</span> <span class="nx">spacing</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">Grid</span> <span class="nx">item</span> <span class="nx">xs</span><span class="o">=</span><span class="p">{</span><span class="mi">12</span><span class="p">}</span> <span class="nx">sm</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">onClick</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Add</span> <span class="nx">vehicle</span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
        <span class="o">&lt;</span><span class="err">/Grid&gt;</span>
        <span class="o">&lt;</span><span class="nx">Grid</span> <span class="nx">item</span> <span class="nx">xs</span><span class="o">=</span><span class="p">{</span><span class="mi">12</span><span class="p">}</span> <span class="nx">sm</span><span class="o">=</span><span class="p">{</span><span class="mi">9</span><span class="p">}</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">MaterialTable</span>
                <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">vehicles</span><span class="p">}</span>
                <span class="nx">columns</span><span class="o">=</span><span class="p">{</span><span class="nx">columns</span><span class="p">}</span>
            <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="err">/Grid&gt;</span>
    <span class="o">&lt;</span><span class="err">/Grid&gt;</span>
<span class="p">);</span>
</code></pre></div>


<p>Try it. Ugh. We broke something and the page is blank. Let's check the console.</p>
<p>Material Table requires a mutable <code>id</code> on each row. AWS Amplify provides a different <code>id</code>, but it's <code>readonly</code>. So things won't work if you just pass a <code>Vehicle</code> around for rows. A quick fix is map each <code>Vehicle</code> to an untyped object. I chased this down and figured out the fix so you don't have to.</p>
<p>The function <code>rowMapper(...)</code> does this.</p>
<div class="codehilite"><pre><span></span><code><span class="kd">function</span> <span class="nx">rowMapper</span><span class="p">(</span><span class="nx">vehicles</span>: <span class="kt">Vehicle</span><span class="p">[])</span><span class="o">:</span> <span class="nx">Vehicle</span><span class="p">[]</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">vehicles</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">vehicle</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">vehicle</span> <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>


<p>Now <code>&lt;MaterialTable&gt;</code> looks like</p>
<div class="codehilite"><pre><span></span><code><span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Grid</span> <span class="nx">container</span> <span class="nx">spacing</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">Grid</span> <span class="nx">item</span> <span class="nx">xs</span><span class="o">=</span><span class="p">{</span><span class="mi">12</span><span class="p">}</span> <span class="nx">sm</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">onClick</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Add</span> <span class="nx">vehicle</span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
        <span class="o">&lt;</span><span class="err">/Grid&gt;</span>
        <span class="o">&lt;</span><span class="nx">Grid</span> <span class="nx">item</span> <span class="nx">xs</span><span class="o">=</span><span class="p">{</span><span class="mi">12</span><span class="p">}</span> <span class="nx">sm</span><span class="o">=</span><span class="p">{</span><span class="mi">9</span><span class="p">}</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">MaterialTable</span>
                <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">rowMapper</span><span class="p">(</span><span class="nx">vehicles</span><span class="p">)}</span>
                <span class="nx">columns</span><span class="o">=</span><span class="p">{</span><span class="nx">columns</span><span class="p">}</span>
            <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="err">/Grid&gt;</span>
    <span class="o">&lt;</span><span class="err">/Grid&gt;</span>
<span class="p">);</span>
</code></pre></div>


<p>Try it again. Ugh. Although Material Table is showing promise, it looks like we need some icons. </p>
<p><img alt="Material Table Broken Icons" src="../assets/screenshots/material-table-broken-icons.png" /></p>
<p>Follow the instructions in <a href="https://material-table.com/#/docs/install">https://material-table.com/#/docs/install</a>.</p>
<p>Yay. This table's looking properly amazing now. Search works for string and numeric fields. </p>
<p><img alt="Material Table Starter" src="../assets/screenshots/material-table-starter.png" /></p>
<h2 id="but-of-course-were-not-stopping-here">But of course we're not stopping here<a class="headerlink" href="#but-of-course-were-not-stopping-here" title="Permanent link">&para;</a></h2>
<p>We're not, because this is a tutorial about React Material UI, Material Table and how to integrate with AWS Amplify. There's still lots to do before we're awesome.</p>
<p>Try pressing the "ADD VEHICLE" button. See the total increase? Cool. Press it 1,000 more times. It slows down. A lot. Retrieving all the vehicles every time clearly doesn't scale. Not so cool.</p>
<p>Let's paginate. But first — in a bold move bordering on reckless — remove the <code>vehicles</code> state and the <code>fetchAll()</code> function. Comment it out in <code>subscriber()</code>. We're clearly going need something here, and this will remind us.</p>
<p><code>function Vehicles()</code> now starts</p>
<div class="codehilite"><pre><span></span><code><span class="kd">function</span> <span class="nx">Vehicles() {</span>
    <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">subscriber</span><span class="p">(</span><span class="nx">subscriptionMessage</span>: <span class="kt">SubscriptionMessage</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;subscriptionMessage&#39;</span><span class="p">,</span> <span class="nx">subscriptionMessage</span><span class="p">);</span>

            <span class="c1">// fetchAll();</span>
        <span class="p">}</span>

        <span class="kr">const</span> <span class="nx">subscription</span> <span class="o">=</span> <span class="nx">DataStore</span>
            <span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="nx">Vehicle</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">subscriber</span><span class="p">);</span>

        <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="nx">subscription</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">();</span> <span class="p">};</span>
    <span class="p">},</span> <span class="p">[]);</span>

    <span class="kd">function</span> <span class="nx">addVehicle() {</span>
        <span class="p">...</span>
</code></pre></div>


<p>The <code>data</code> property in <code>&lt;MaterialTable ... /&gt;</code> can also take a function instead of a simple array.</p>
<p>Fields in the function argument, the query, allow us to retrieve just the right single page of vehicles, solving the fetch-everything-at-once ugliness. We'll take <code>query.page</code> and <code>query.pageSize</code> and call <code>DataStore.query()</code> to get just the right page. Oh, and <code>data</code> needs a <code>Promise</code> now. Oh, and <code>DataStore.query()</code> needs a predicate now, even the always-true predicate.</p>
<div class="codehilite"><pre><span></span><code><span class="kr">import</span> <span class="nx">MaterialTable</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Column</span><span class="p">,</span> <span class="nx">Query</span><span class="p">,</span> <span class="nx">QueryResult</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;material-table&#39;</span><span class="p">;</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="kd">function</span> <span class="nx">data</span><span class="p">(</span><span class="nx">query</span>: <span class="kt">Query</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">QueryResult</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">thisPage</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nx">page</span>: <span class="kt">query.page</span><span class="p">,</span>
            <span class="nx">limit</span>: <span class="kt">query.pageSize</span>
        <span class="p">};</span>

        <span class="nx">DataStore</span>
            <span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="nx">Vehicle</span><span class="p">,</span> <span class="nx">Predicates</span><span class="p">.</span><span class="nx">ALL</span><span class="p">,</span> <span class="nx">thisPage</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">vehicles</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="nx">resolve</span><span class="p">({</span>
                    <span class="nx">data</span>: <span class="kt">rowMapper</span><span class="p">(</span><span class="nx">vehicles</span><span class="p">),</span>
                    <span class="nx">page</span>: <span class="kt">query.page</span><span class="p">,</span>
                    <span class="nx">totalCount</span>: <span class="kt">1000000</span>
                <span class="p">});</span>
            <span class="p">})</span>
            <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">reject</span><span class="p">);</span>
    <span class="p">})</span>
<span class="p">}</span>
</code></pre></div>


<h2 id="we-broke-some-things">We broke some things<a class="headerlink" href="#we-broke-some-things" title="Permanent link">&para;</a></h2>
<p>Only first page is displayed. And we don't refresh when we add a vehicle. (You might have noticed we set <code>totalCount</code> to a large number to get something going until we solve this.)</p>
<p>There are a couple of reasons for this. For pagination to work correctly, Material Table needs to know the total number of rows. That used to be easy because we had all the rows. But now we only have a page at a time. </p>
<div class="admonition note">
<p class="admonition-title">Harder than you think</p>
<p>It's because we're using GraphQL backed by DynamoDB. DynamoDB does not work like SQL where you can <code>SELECT COUNT(*) ...</code> or something. There's no way to get the total number without scanning a whole table, which is prohibitively expensive for large tables.</p>
<p>We're going to solve this another way. But fair warning, this is going to feel like we don't know what we're doing. </p>
</div>
<h3 id="search-is-broken-now-too">Search is broken now too<a class="headerlink" href="#search-is-broken-now-too" title="Permanent link">&para;</a></h3>
<p>It looks like there's a bad interaction between what we're now doing in Material Table and how we're using Amplify DataStore to fetch a page. Let's fix it.</p>
<p><code>DataStore.query(...)</code> takes a predicate, specifically a function that takes a <code>ModelPredicate&lt;Vehicle&gt;</code> and returns one too. Our task is to add some criteria to this predicate.</p>
<p>We can take <code>query.search</code> and create criteria. Start with the <code>make</code> field in vehicle.</p>
<div class="codehilite"><pre><span></span><code><span class="kd">function</span> <span class="nx">data</span><span class="p">(</span><span class="nx">query</span>: <span class="kt">Query</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">QueryResult</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">thisPage</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nx">page</span>: <span class="kt">query.page</span><span class="p">,</span>
            <span class="nx">limit</span>: <span class="kt">query.pageSize</span>
        <span class="p">};</span>

        <span class="kd">function</span> <span class="nx">searchCriteria</span><span class="p">(</span><span class="nx">predicate</span>: <span class="kt">ModelPredicate</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span> <span class="nx">ModelPredicate</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">predicate</span><span class="p">.</span><span class="nx">make</span><span class="p">(</span><span class="s2">&quot;contains&quot;</span><span class="p">,</span> <span class="nx">query</span><span class="p">.</span><span class="nx">search</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">DataStore</span>
            <span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="nx">Vehicle</span><span class="p">,</span> <span class="nx">searchCriteria</span><span class="p">,</span> <span class="nx">thisPage</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">vehicles</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="nx">resolve</span><span class="p">({</span>
                    <span class="nx">data</span>: <span class="kt">rowMapper</span><span class="p">(</span><span class="nx">vehicles</span><span class="p">),</span>
                    <span class="nx">page</span>: <span class="kt">query.page</span><span class="p">,</span>
                    <span class="nx">totalCount</span>: <span class="kt">1000000</span>
                <span class="p">});</span>
            <span class="p">})</span>
            <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">reject</span><span class="p">);</span>
    <span class="p">})</span>
<span class="p">}</span>
</code></pre></div>


<p>Now we can type a search term and get matching vehicle makes. Nice. Compound criteria are constructed like this</p>
<div class="codehilite"><pre><span></span><code><span class="nx">predicate</span><span class="p">.</span><span class="nx">make</span><span class="p">(</span><span class="s2">&quot;contains&quot;</span><span class="p">,</span> <span class="nx">query</span><span class="p">.</span><span class="nx">search</span><span class="p">).</span><span class="nx">model</span><span class="p">(</span><span class="s2">&quot;contains&quot;</span><span class="p">,</span> <span class="nx">query</span><span class="p">.</span><span class="nx">search</span><span class="p">)</span>
</code></pre></div>


<p>but when we try it we discover that is an <code>and</code> criterion. We need <code>or</code>. This is the right incantation for that.</p>
<div class="codehilite"><pre><span></span><code><span class="kd">function</span> <span class="nx">searchCriteria</span><span class="p">(</span><span class="nx">predicate</span>: <span class="kt">ModelPredicate</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span> <span class="nx">ModelPredicate</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">predicate</span><span class="p">.</span><span class="nx">or</span><span class="p">(</span><span class="nx">or</span> <span class="o">=&gt;</span>
        <span class="nx">or</span><span class="p">.</span><span class="nx">make</span><span class="p">(</span><span class="s2">&quot;contains&quot;</span><span class="p">,</span> <span class="nx">query</span><span class="p">.</span><span class="nx">search</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">model</span><span class="p">(</span><span class="s2">&quot;contains&quot;</span><span class="p">,</span> <span class="nx">query</span><span class="p">.</span><span class="nx">search</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div>


<p>Adding search on <code>mileage</code> is easy too: We just have to think of a reasonable semantics. "Is greater than or equal" is probably better than "contains these digits." Now we have</p>
<div class="codehilite"><pre><span></span><code><span class="kd">function</span> <span class="nx">searchCriteria</span><span class="p">(</span><span class="nx">predicate</span>: <span class="kt">ModelPredicate</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span> <span class="nx">ModelPredicate</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">predicate</span><span class="p">.</span><span class="nx">or</span><span class="p">(</span><span class="nx">or</span> <span class="o">=&gt;</span>
        <span class="nx">or</span><span class="p">.</span><span class="nx">make</span><span class="p">(</span><span class="s2">&quot;contains&quot;</span><span class="p">,</span> <span class="nx">query</span><span class="p">.</span><span class="nx">search</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">model</span><span class="p">(</span><span class="s2">&quot;contains&quot;</span><span class="p">,</span> <span class="nx">query</span><span class="p">.</span><span class="nx">search</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">mileage</span><span class="p">(</span><span class="s2">&quot;ge&quot;</span><span class="p">,</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">query</span><span class="p">.</span><span class="nx">search</span><span class="p">,</span> <span class="mi">10</span><span class="p">)));</span>
<span class="p">}</span>
</code></pre></div>


<p>Search is fixed. And the &ge; semantics for mileage looks like a good call.</p>
<p>We see there's a default title that's not very useful. Let's leave all the polish like this until after everything's working.</p>
<h2 id="triggering-refresh">Triggering refresh<a class="headerlink" href="#triggering-refresh" title="Permanent link">&para;</a></h2>
<p>We can add vehicles as before, but they're not showing up in the table. We need to connect the subscription to the table. </p>
<p>It's pretty easy if you know how. We need to bind the table to a reference and use that to trigger a refresh.</p>
<div class="codehilite"><pre><span></span><code><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useEffect</span><span class="p">,</span> <span class="nx">createRef</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">MaterialTable</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Column</span><span class="p">,</span> <span class="nx">Query</span><span class="p">,</span> <span class="nx">QueryResult</span><span class="p">,</span> <span class="nx">MaterialTableProps</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;material-table&#39;</span>
</code></pre></div>


<p>Add the reference.</p>
<div class="codehilite"><pre><span></span><code><span class="kr">const</span> <span class="nx">tableRef</span> <span class="o">=</span> <span class="nx">createRef</span><span class="o">&lt;</span><span class="nx">MaterialTableProps</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;&gt;</span><span class="p">();</span>
</code></pre></div>


<p>Now bind it to the table like this.</p>
<div class="codehilite"><pre><span></span><code><span class="o">&lt;</span><span class="nx">MaterialTable</span>
    <span class="nx">tableRef</span><span class="o">=</span><span class="p">{</span><span class="nx">tableRef</span><span class="p">}</span>
    <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">data</span><span class="p">}</span>
    <span class="nx">columns</span><span class="o">=</span><span class="p">{</span><span class="nx">columns</span><span class="p">}</span>
<span class="err">/&gt;</span>
</code></pre></div>


<p>Now all we have to do to trigger a refresh on the table when we get an event from the subscription. It's a bit finicky.</p>
<p>We going to trip the table's <code>onQueryChange()</code> hook. That function requires some arguments, which we mostly relay from the current table state. There are a couple of things we didn't figure out how to get like the current <code>orderBy</code>. Irksome, but not a deal-breaker.</p>
<p>Ever wonder what that empty <code>[]</code> was in the <code>useEffect()</code> hook declaration? Well it's for passing dependencies. <code>tableRef</code> is a dependency.</p>
<h3 id="the-new-useeffect">The new <code>useEffect</code><a class="headerlink" href="#the-new-useeffect" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">subscriber</span><span class="p">(</span><span class="nx">msg</span>: <span class="kt">SubscriptionMessage</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;subscription&#39;</span><span class="p">,</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">opType</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">tableRef</span><span class="p">.</span><span class="nx">current</span><span class="p">)</span> <span class="p">{</span>
            <span class="kr">const</span> <span class="nx">table</span> <span class="o">=</span> <span class="nx">tableRef</span><span class="p">.</span><span class="nx">current</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">table</span><span class="p">.</span><span class="nx">onQueryChange</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">table</span><span class="p">.</span><span class="nx">onQueryChange</span><span class="p">({</span>
                    <span class="nx">filters</span><span class="o">:</span> <span class="p">[],</span>
                    <span class="nx">orderBy</span><span class="o">:</span> <span class="p">{},</span>
                    <span class="nx">orderDirection</span><span class="o">:</span> <span class="s1">&#39;asc&#39;</span><span class="p">,</span>
                    <span class="nx">page</span>: <span class="kt">table.page</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="nx">pageSize</span>: <span class="kt">table.options?.pageSize</span> <span class="o">||</span> <span class="mi">5</span><span class="p">,</span>
                    <span class="nx">search</span>: <span class="kt">table.options?.searchText</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span>
                <span class="p">});</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">};</span>

    <span class="kr">const</span> <span class="nx">subscription</span> <span class="o">=</span> <span class="nx">DataStore</span>
        <span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="nx">Vehicle</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">subscriber</span><span class="p">);</span>

    <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="nx">subscription</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">();</span> <span class="p">};</span>
<span class="p">},</span> <span class="p">[</span><span class="nx">tableRef</span><span class="p">]);</span>
</code></pre></div>


<p>Try it. Much better.</p>
<p>Remember that if you want to delete all existing vehicles and start adding new one, you can add a <code>&lt;Button&gt;</code> and call <code>DataStore</code>. Like this</p>
<div class="codehilite"><pre><span></span><code><span class="o">&lt;</span><span class="nx">Grid</span> <span class="nx">item</span> <span class="nx">xs</span><span class="o">=</span><span class="p">{</span><span class="mi">12</span><span class="p">}</span> <span class="nx">sm</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">onClick</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Add</span> <span class="nx">vehicle</span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
    <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">onDeleteAll</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Delete</span> <span class="nx">all</span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<span class="o">&lt;</span><span class="err">/Grid&gt;</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="kd">function</span> <span class="nx">onDeleteAll</span><span class="p">(</span><span class="nx">event</span>: <span class="kt">React.MouseEvent</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">DataStore</span>
        <span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">Vehicle</span><span class="p">,</span> <span class="nx">Predicates</span><span class="p">.</span><span class="nx">ALL</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">)</span>
        <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span>

    <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>


<p>Frankly, the bloom's off the rose when we notice just how much we're redrawing of the table. We'll see if we can fix that later when we polish. It's probably because we're handling all events the same. Maybe we shouldn't. We'll see.</p>
<h2 id="manipulating-items-from-the-table-itself">Manipulating items from the table itself<a class="headerlink" href="#manipulating-items-from-the-table-itself" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to skip the details of making rows editable, fast-forward to <a href="#the-upshot">The upshot</a>. There's quite a bit of faffing about from here on.</p>
</div>
<p>The "ADD VEHICLE" button has a bunch of issues. Let's move that functionality to the table. Removing buttons simplifies the layout.</p>
<p>Material Table provides hooks for CRUD operations right in the table. The hooks are defined like this</p>
<div class="codehilite"><pre><span></span><code>  <span class="nx">editable</span><span class="o">?:</span> <span class="p">{</span>
    <span class="nx">isEditable</span><span class="o">?:</span> <span class="p">(</span><span class="nx">rowData</span>: <span class="kt">RowData</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="kr">boolean</span><span class="p">;</span>
    <span class="nx">isDeletable</span><span class="o">?:</span> <span class="p">(</span><span class="nx">rowData</span>: <span class="kt">RowData</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="kr">boolean</span><span class="p">;</span>
    <span class="nx">onRowAdd</span><span class="o">?:</span> <span class="p">(</span><span class="nx">newData</span>: <span class="kt">RowData</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="p">;</span>
    <span class="nx">onRowUpdate</span><span class="o">?:</span> <span class="p">(</span><span class="nx">newData</span>: <span class="kt">RowData</span><span class="p">,</span> <span class="nx">oldData?</span>: <span class="kt">RowData</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="p">;</span>
    <span class="nx">onRowDelete</span><span class="o">?:</span> <span class="p">(</span><span class="nx">oldData</span>: <span class="kt">RowData</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre></div>


<p>Let's add them one-by-one. We can start with no hooks because all hooks are optional.</p>
<div class="codehilite"><pre><span></span><code><span class="kr">const</span> <span class="nx">editable</span> <span class="o">=</span> <span class="p">{</span>
<span class="p">};</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="o">&lt;</span><span class="nx">MaterialTable</span>
    <span class="nx">tableRef</span><span class="o">=</span><span class="p">{</span><span class="nx">tableRef</span><span class="p">}</span>
    <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">data</span><span class="p">}</span>
    <span class="nx">columns</span><span class="o">=</span><span class="p">{</span><span class="nx">columns</span><span class="p">}</span>
    <span class="nx">editable</span><span class="o">=</span><span class="p">{</span><span class="nx">editable</span><span class="p">}</span>
<span class="err">/&gt;</span>
</code></pre></div>


<div class="codehilite"><pre><span></span><code><span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Grid</span> <span class="nx">container</span> <span class="nx">spacing</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">Grid</span> <span class="nx">item</span> <span class="nx">xs</span><span class="o">=</span><span class="p">{</span><span class="mi">12</span><span class="p">}</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">MaterialTable</span>
                <span class="nx">tableRef</span><span class="o">=</span><span class="p">{</span><span class="nx">tableRef</span><span class="p">}</span>
                <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">data</span><span class="p">}</span>
                <span class="nx">columns</span><span class="o">=</span><span class="p">{</span><span class="nx">columns</span><span class="p">}</span>
                <span class="nx">editable</span><span class="o">=</span><span class="p">{</span><span class="nx">editable</span><span class="p">}</span>
            <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="err">/Grid&gt;</span>
    <span class="o">&lt;</span><span class="err">/Grid&gt;</span>
<span class="p">);</span>
</code></pre></div>


<p>Test it. Nothing did nothing successfully.</p>
<p>Before we can edit a row that has optional fields — our <code>mileage</code> field — we need to define a value returned when omitted. This is easy: Just add it to the <code>Column</code> definition.</p>
<div class="codehilite"><pre><span></span><code><span class="kr">const</span> <span class="nx">columns</span>: <span class="kt">Column</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Make&#39;</span><span class="p">,</span> <span class="nx">field</span><span class="o">:</span> <span class="s1">&#39;make&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Model&#39;</span><span class="p">,</span> <span class="nx">field</span><span class="o">:</span> <span class="s1">&#39;model&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Mileage&#39;</span><span class="p">,</span> <span class="nx">field</span><span class="o">:</span> <span class="s1">&#39;mileage&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;numeric&quot;</span><span class="p">,</span> <span class="nx">emptyValue</span><span class="o">:</span> <span class="s1">&#39;&#39;</span> <span class="p">},</span>
<span class="p">];</span>
</code></pre></div>


<h2 id="adding-a-row">Adding a row<a class="headerlink" href="#adding-a-row" title="Permanent link">&para;</a></h2>
<p>Add a function to edit a row. We get save and cancel buttons for free.</p>
<div class="codehilite"><pre><span></span><code><span class="kr">const</span> <span class="nx">onRowAdd</span> <span class="o">=</span> <span class="p">(</span><span class="nx">newData</span>: <span class="kt">Vehicle</span><span class="p">)</span> <span class="o">=&gt;</span>
    <span class="k">new</span> <span class="nx">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">timeout</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="kr">const</span> <span class="nx">add</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vehicle</span><span class="p">({</span>
                <span class="nx">make</span>: <span class="kt">newData.make</span><span class="p">,</span>
                <span class="nx">model</span>: <span class="kt">newData.model</span><span class="p">,</span>
                <span class="nx">mileage</span>: <span class="kt">newData.mileage</span>
            <span class="p">});</span>
            <span class="nx">DataStore</span>
                <span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="nx">add</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="p">{</span>
                    <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timeout</span><span class="p">)</span>

                    <span class="nx">resolve</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
                <span class="p">})</span>
                <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">reject</span><span class="p">)</span>
        <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
    <span class="p">})</span>

<span class="kr">const</span> <span class="nx">editable</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">onRowAdd</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>


<p>Let's unpack this.</p>
<p><code>onRowAdd</code> returns a <code>Promise</code>. That's easy: we just have to call <code>resolve</code> or <code>reject</code> like we already know.</p>
<p>We create a new <code>Vehicle</code> with the fields</p>
<p><code>setTimeout(() =&gt; {...})</code> returns a <code>Timeout</code> (1000ms feels right.) We call <code>clearTimeout()</code> only if the save succeeds. Otherwise it's standard <code>Promise</code> handling.</p>
<h2 id="now-enable-deleting-a-row">Now enable deleting a row<a class="headerlink" href="#now-enable-deleting-a-row" title="Permanent link">&para;</a></h2>
<p>The function for <code>onRowDelete</code> looks very similar to that for <code>onRowAdd</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="kr">const</span> <span class="nx">onRowDelete</span> <span class="o">=</span> <span class="p">(</span><span class="nx">oldData</span>: <span class="kt">any</span><span class="p">)</span> <span class="o">=&gt;</span>
    <span class="k">new</span> <span class="nx">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">timeout</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">DataStore</span>
                <span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">Vehicle</span><span class="p">,</span> <span class="nx">oldData</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="p">{</span>
                    <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timeout</span><span class="p">)</span>

                    <span class="nx">resolve</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
                <span class="p">})</span>
                <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">reject</span><span class="p">)</span>
        <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
    <span class="p">})</span>

<span class="kr">const</span> <span class="nx">editable</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">onRowAdd</span><span class="p">,</span>
    <span class="nx">onRowDelete</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>


<p>Try it. Yay, a rubbish bin. Still noticing quite a bit of table flash.</p>
<h2 id="updating-a-row">Updating a row<a class="headerlink" href="#updating-a-row" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="kr">const</span> <span class="nx">onRowUpdate</span> <span class="o">=</span> <span class="p">(</span><span class="nx">newData</span>: <span class="kt">any</span><span class="p">,</span> <span class="nx">oldData</span>: <span class="kt">any</span><span class="p">)</span> <span class="o">=&gt;</span>
    <span class="k">new</span> <span class="nx">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">timeout</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">DataStore</span>
                <span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="nx">Vehicle</span><span class="p">,</span> <span class="nx">oldData</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">original</span> <span class="o">=&gt;</span> <span class="p">{</span>
                    <span class="kr">const</span> <span class="nx">updated</span> <span class="o">=</span> <span class="nx">Vehicle</span><span class="p">.</span><span class="nx">copyOf</span><span class="p">(</span><span class="nx">original</span><span class="p">,</span> <span class="nx">updated</span> <span class="o">=&gt;</span> <span class="p">{</span>
                        <span class="nx">updated</span><span class="p">.</span><span class="nx">make</span> <span class="o">=</span> <span class="nx">newData</span><span class="p">.</span><span class="nx">make</span>
                        <span class="nx">updated</span><span class="p">.</span><span class="nx">model</span> <span class="o">=</span> <span class="nx">newData</span><span class="p">.</span><span class="nx">model</span>
                        <span class="nx">updated</span><span class="p">.</span><span class="nx">mileage</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">newData</span><span class="p">.</span><span class="nx">mileage</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
                    <span class="p">});</span>

                    <span class="k">return</span> <span class="nx">DataStore</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="nx">updated</span><span class="p">);</span>
                <span class="p">})</span>
                <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="p">{</span>
                    <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timeout</span><span class="p">)</span>

                    <span class="nx">resolve</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
                <span class="p">})</span>
                <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">reject</span><span class="p">)</span>
        <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
    <span class="p">})</span>
</code></pre></div>


<p>The last one's a bit sneaky. It's chaining <code>Promise</code>s by returning a <code>Promise</code> from the first <code>.then</code>. Then <code>then</code> again. Just in case you didn't know a way to do this.</p>
<div class="admonition done">
<p class="admonition-title">Done</p>
<p>Oh wow. We just noticed we got column sorting for free with the default column metadata.</p>
</div>
<h2 id="the-upshot">The upshot<a class="headerlink" href="#the-upshot" title="Permanent link">&para;</a></h2>
<p><code>Vehicles.tsx</code> so far is</p>
<div class="codehilite"><pre><span></span><code><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useEffect</span><span class="p">,</span> <span class="nx">createRef</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Grid</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@material-ui/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Vehicle</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./models&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">DataStore</span><span class="p">,</span> <span class="nx">SubscriptionMessage</span> <span class="p">,</span><span class="nx">ModelPredicate</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@aws-amplify/datastore&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">MaterialTable</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Column</span><span class="p">,</span> <span class="nx">Query</span><span class="p">,</span> <span class="nx">QueryResult</span><span class="p">,</span> <span class="nx">MaterialTableProps</span><span class="p">,</span> <span class="nx">Options</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;material-table&#39;</span>

<span class="kr">const</span> <span class="nx">columns</span>: <span class="kt">Column</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Make&#39;</span><span class="p">,</span> <span class="nx">field</span><span class="o">:</span> <span class="s1">&#39;make&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Model&#39;</span><span class="p">,</span> <span class="nx">field</span><span class="o">:</span> <span class="s1">&#39;model&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Mileage&#39;</span><span class="p">,</span> <span class="nx">field</span><span class="o">:</span> <span class="s1">&#39;mileage&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;numeric&quot;</span><span class="p">,</span> <span class="nx">emptyValue</span><span class="o">:</span> <span class="s1">&#39;&#39;</span> <span class="p">},</span>
<span class="p">];</span>

<span class="kd">function</span> <span class="nx">Vehicles() {</span>
    <span class="kr">const</span> <span class="nx">tableRef</span> <span class="o">=</span> <span class="nx">createRef</span><span class="o">&lt;</span><span class="nx">MaterialTableProps</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;&gt;</span><span class="p">();</span>

    <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">subscriber</span><span class="p">(</span><span class="nx">msg</span>: <span class="kt">SubscriptionMessage</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;subscription&#39;</span><span class="p">,</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">opType</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">tableRef</span><span class="p">.</span><span class="nx">current</span><span class="p">)</span> <span class="p">{</span>
                <span class="kr">const</span> <span class="nx">table</span> <span class="o">=</span> <span class="nx">tableRef</span><span class="p">.</span><span class="nx">current</span><span class="p">;</span>

                <span class="k">if</span> <span class="p">(</span><span class="nx">table</span><span class="p">.</span><span class="nx">onQueryChange</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">table</span><span class="p">.</span><span class="nx">onQueryChange</span><span class="p">({</span>
                        <span class="nx">filters</span><span class="o">:</span> <span class="p">[],</span>
                        <span class="nx">orderBy</span><span class="o">:</span> <span class="p">{},</span>
                        <span class="nx">orderDirection</span><span class="o">:</span> <span class="s1">&#39;asc&#39;</span><span class="p">,</span>
                        <span class="nx">page</span>: <span class="kt">table.page</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="nx">pageSize</span>: <span class="kt">table.options?.pageSize</span> <span class="o">||</span> <span class="mi">5</span><span class="p">,</span>
                        <span class="nx">search</span>: <span class="kt">table.options?.searchText</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span>
                    <span class="p">});</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">};</span>

        <span class="kr">const</span> <span class="nx">subscription</span> <span class="o">=</span> <span class="nx">DataStore</span>
            <span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="nx">Vehicle</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">subscriber</span><span class="p">);</span>

        <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="nx">subscription</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">();</span> <span class="p">};</span>
    <span class="p">},</span> <span class="p">[</span><span class="nx">tableRef</span><span class="p">]);</span>

    <span class="kd">function</span> <span class="nx">rowMapper</span><span class="p">(</span><span class="nx">vehicles</span>: <span class="kt">Vehicle</span><span class="p">[])</span><span class="o">:</span> <span class="nx">Vehicle</span><span class="p">[]</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">vehicles</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">vehicle</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">vehicle</span> <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">data</span><span class="p">(</span><span class="nx">query</span>: <span class="kt">Query</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">QueryResult</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="kr">const</span> <span class="nx">thisPage</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nx">page</span>: <span class="kt">query.page</span><span class="p">,</span>
                <span class="nx">limit</span>: <span class="kt">query.pageSize</span>
            <span class="p">};</span>

            <span class="kd">function</span> <span class="nx">searchCriteria</span><span class="p">(</span><span class="nx">predicate</span>: <span class="kt">ModelPredicate</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span> <span class="nx">ModelPredicate</span><span class="o">&lt;</span><span class="nx">Vehicle</span><span class="o">&gt;</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">predicate</span><span class="p">.</span><span class="nx">or</span><span class="p">(</span><span class="nx">or</span> <span class="o">=&gt;</span>
                    <span class="nx">or</span><span class="p">.</span><span class="nx">make</span><span class="p">(</span><span class="s2">&quot;contains&quot;</span><span class="p">,</span> <span class="nx">query</span><span class="p">.</span><span class="nx">search</span><span class="p">)</span>
                        <span class="p">.</span><span class="nx">model</span><span class="p">(</span><span class="s2">&quot;contains&quot;</span><span class="p">,</span> <span class="nx">query</span><span class="p">.</span><span class="nx">search</span><span class="p">)</span>
                        <span class="p">.</span><span class="nx">mileage</span><span class="p">(</span><span class="s2">&quot;ge&quot;</span><span class="p">,</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">query</span><span class="p">.</span><span class="nx">search</span><span class="p">,</span> <span class="mi">10</span><span class="p">)));</span>
            <span class="p">}</span>

            <span class="nx">DataStore</span>
                <span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="nx">Vehicle</span><span class="p">,</span> <span class="nx">searchCriteria</span><span class="p">,</span> <span class="nx">thisPage</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">vehicles</span> <span class="o">=&gt;</span> <span class="p">{</span>
                    <span class="nx">resolve</span><span class="p">({</span>
                        <span class="nx">data</span>: <span class="kt">rowMapper</span><span class="p">(</span><span class="nx">vehicles</span><span class="p">),</span>
                        <span class="nx">page</span>: <span class="kt">query.page</span><span class="p">,</span>
                        <span class="nx">totalCount</span>: <span class="kt">1000000</span>
                    <span class="p">});</span>
                <span class="p">})</span>
                <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">reject</span><span class="p">);</span>
        <span class="p">})</span>
    <span class="p">}</span>

    <span class="kr">const</span> <span class="nx">onRowAdd</span> <span class="o">=</span> <span class="p">(</span><span class="nx">newData</span>: <span class="kt">any</span><span class="p">)</span> <span class="o">=&gt;</span>
        <span class="k">new</span> <span class="nx">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="kr">const</span> <span class="nx">timeout</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="kr">const</span> <span class="nx">add</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vehicle</span><span class="p">({</span>
                    <span class="nx">make</span>: <span class="kt">newData.make</span><span class="p">,</span>
                    <span class="nx">model</span>: <span class="kt">newData.model</span><span class="p">,</span>
                    <span class="nx">mileage</span>: <span class="kt">parseInt</span><span class="p">(</span><span class="nx">newData</span><span class="p">.</span><span class="nx">mileage</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
                <span class="p">});</span>
                <span class="nx">DataStore</span>
                    <span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="nx">add</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="p">{</span>
                        <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timeout</span><span class="p">)</span>

                        <span class="nx">resolve</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
                    <span class="p">})</span>
                    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">reject</span><span class="p">)</span>
            <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
        <span class="p">})</span>

    <span class="kr">const</span> <span class="nx">onRowDelete</span> <span class="o">=</span> <span class="p">(</span><span class="nx">oldData</span>: <span class="kt">any</span><span class="p">)</span> <span class="o">=&gt;</span>
        <span class="k">new</span> <span class="nx">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="kr">const</span> <span class="nx">timeout</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="nx">DataStore</span>
                    <span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">Vehicle</span><span class="p">,</span> <span class="nx">oldData</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="p">{</span>
                        <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timeout</span><span class="p">)</span>

                        <span class="nx">resolve</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
                    <span class="p">})</span>
                    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">reject</span><span class="p">)</span>
            <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
        <span class="p">})</span>

    <span class="kr">const</span> <span class="nx">onRowUpdate</span> <span class="o">=</span> <span class="p">(</span><span class="nx">newData</span>: <span class="kt">any</span><span class="p">,</span> <span class="nx">oldData</span>: <span class="kt">any</span><span class="p">)</span> <span class="o">=&gt;</span>
        <span class="k">new</span> <span class="nx">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="kr">const</span> <span class="nx">timeout</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="nx">DataStore</span>
                    <span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="nx">Vehicle</span><span class="p">,</span> <span class="nx">oldData</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">original</span> <span class="o">=&gt;</span> <span class="p">{</span>
                        <span class="kr">const</span> <span class="nx">updated</span> <span class="o">=</span> <span class="nx">Vehicle</span><span class="p">.</span><span class="nx">copyOf</span><span class="p">(</span><span class="nx">original</span><span class="p">,</span> <span class="nx">updated</span> <span class="o">=&gt;</span> <span class="p">{</span>
                            <span class="nx">updated</span><span class="p">.</span><span class="nx">make</span> <span class="o">=</span> <span class="nx">newData</span><span class="p">.</span><span class="nx">make</span>
                            <span class="nx">updated</span><span class="p">.</span><span class="nx">model</span> <span class="o">=</span> <span class="nx">newData</span><span class="p">.</span><span class="nx">model</span>
                            <span class="nx">updated</span><span class="p">.</span><span class="nx">mileage</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">newData</span><span class="p">.</span><span class="nx">mileage</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
                        <span class="p">});</span>

                        <span class="k">return</span> <span class="nx">DataStore</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="nx">updated</span><span class="p">);</span>
                    <span class="p">})</span>
                    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="p">{</span>
                        <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timeout</span><span class="p">)</span>

                        <span class="nx">resolve</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
                    <span class="p">})</span>
                    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">reject</span><span class="p">)</span>
            <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
        <span class="p">})</span>

    <span class="kr">const</span> <span class="nx">editable</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">onRowAdd</span><span class="p">,</span>
        <span class="nx">onRowDelete</span><span class="p">,</span>
        <span class="nx">onRowUpdate</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">Grid</span> <span class="nx">container</span> <span class="nx">spacing</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">}</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">Grid</span> <span class="nx">item</span> <span class="nx">xs</span><span class="o">=</span><span class="p">{</span><span class="mi">12</span><span class="p">}</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="nx">MaterialTable</span>
                    <span class="nx">tableRef</span><span class="o">=</span><span class="p">{</span><span class="nx">tableRef</span><span class="p">}</span>
                    <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">data</span><span class="p">}</span>
                    <span class="nx">columns</span><span class="o">=</span><span class="p">{</span><span class="nx">columns</span><span class="p">}</span>
                    <span class="nx">editable</span><span class="o">=</span><span class="p">{</span><span class="nx">editable</span><span class="p">}</span>
                <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="err">/Grid&gt;</span>
        <span class="o">&lt;</span><span class="err">/Grid&gt;</span>
    <span class="p">);</span>
<span class="p">}</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">Vehicles</span><span class="p">;</span>
</code></pre></div>


<p><img alt="Table before polish" src="../assets/screenshots/table-before-polish.png" /></p>
                
              
              
                


  <h2 id="__comments">Comments</h2>
  <div id="disqus_thread"></div>
  <script>var disqus_config=function(){this.page.url="https://stephen-cloud.github.io/c-19-autobody/awesome-table/",this.page.identifier="awesome-table/"};!function(){var e=document,i=e.createElement("script");i.src="//c19-autobody.disqus.com/embed.js",i.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(i)}()</script>

              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../connect-to-backend/" title="Wire up the back-end" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Wire up the back-end
              </div>
            </div>
          </a>
        
        
          <a href="../reusable-table/" title="Make table reusable" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Make table reusable
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" /></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 Stephen Harrison
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
      <a href="https://github.com/stephen-cloud" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
      
      
      <a href="https://linkedin.com/in/stephenharrison" target="_blank" rel="noopener" title="linkedin.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.c51dfa35.min.js"></script>
      <script src="../assets/javascripts/bundle.eaaa3931.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.58d22e8e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>